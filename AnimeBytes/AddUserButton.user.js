// ==UserScript==
// @name AnimeBytes [user] button
// @author mukti
// @version 1.0
// @description adds a button to insert [user] BBCode
// @include *animebyt.es/*
// @include *animebytes.tv/*
// @icon http://animebytes.tv/favicon.ico
// ==/UserScript==

// This is basically a modified copy of potatoe's hide button script:
// https://github.com/tubersan/AnimeBytes-Userscripts/blob/master/ab_hide_button.user.js

var codenode = document.evaluate("//img[@title='Code']", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;

if(codenode) {

	var userimg = document.createElement('img');
	userimg.src = "data:image/png;base64,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";
	userimg.title = userimg.alt = "User";
	userimg.setAttribute('onclick', "insert_text('[user]', '[/user]')");
	codenode.parentNode.insertBefore(userimg, codenode.nextSibling);
	codenode.insertAdjacentHTML('afterend', '\n');
	
}