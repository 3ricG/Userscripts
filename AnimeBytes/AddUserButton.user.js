// ==UserScript==
// @name AnimeBytes [user] button
// @author mukti
// @version 1.1
// @description adds a button to insert [user] BBCode
// @include *animebyt.es/*
// @include *animebytes.tv/*
// @icon http://animebytes.tv/favicon.ico
// ==/UserScript==

// This is basically a modified copy of potatoe's hide button script:
// https://github.com/tubersan/AnimeBytes-Userscripts/blob/master/ab_hide_button.user.js

var codenode = document.evaluate("//img[@title='Code']", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;

if(codenode) {

	var userimg = document.createElement('img');
	userimg.src = "data:image/png;base64,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";
	userimg.title = userimg.alt = "User";
	userimg.setAttribute('onclick', "insert_text('[user]', '[/user]')");
	codenode.parentNode.insertBefore(userimg, codenode.nextSibling);
	codenode.insertAdjacentHTML('afterend', '\n');
	
}